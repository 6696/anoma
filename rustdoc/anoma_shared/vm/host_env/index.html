<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Virtual machine’s host environment exposes functions that may be called from within a virtual machine."><meta name="keywords" content="rust, rustlang, rust-lang, host_env"><title>anoma_shared::vm::host_env - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../anoma_shared/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module host_env</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../../index.html">anoma_shared</a>::<wbr><a href="../index.html">vm</a></p><div id="sidebar-vars" data-name="host_env" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">anoma_shared</a>::<wbr><a href="../index.html">vm</a>::<wbr><a class="mod" href="">host_env</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/anoma_shared/vm/host_env.rs.html#1-1421" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Virtual machine’s host environment exposes functions that may be called from
within a virtual machine.</p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="testing/index.html" title="anoma_shared::vm::host_env::testing mod">testing</a></td><td class="docblock-short"><p>A helper module for testing</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.FilterEnv.html" title="anoma_shared::vm::host_env::FilterEnv struct">FilterEnv</a></td><td class="docblock-short"><p>A matchmakers filter’s host environment</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.MatchmakerEnv.html" title="anoma_shared::vm::host_env::MatchmakerEnv struct">MatchmakerEnv</a></td><td class="docblock-short"><p>A matchmakers’s host environment</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TxCtx.html" title="anoma_shared::vm::host_env::TxCtx struct">TxCtx</a></td><td class="docblock-short"><p>A transaction’s host context</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TxEnv.html" title="anoma_shared::vm::host_env::TxEnv struct">TxEnv</a></td><td class="docblock-short"><p>A transaction’s host environment</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.VpCtx.html" title="anoma_shared::vm::host_env::VpCtx struct">VpCtx</a></td><td class="docblock-short"><p>A validity predicate’s host context</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.VpEnv.html" title="anoma_shared::vm::host_env::VpEnv struct">VpEnv</a></td><td class="docblock-short"><p>A validity predicate’s host environment</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.VpEvaluator.html" title="anoma_shared::vm::host_env::VpEvaluator trait">VpEvaluator</a></td><td class="docblock-short"><p>A Validity predicate runner for calls from the <a href="../../../anoma_shared/vm/host_env/fn.vp_eval.html" title="vp_eval"><code>vp_eval</code></a> function.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.mm_filter_log_string.html" title="anoma_shared::vm::host_env::mm_filter_log_string fn">mm_filter_log_string</a></td><td class="docblock-short"><p>Log a string from exposed to the wasm VM filter environment. The message
will be printed at the <a href="https://docs.rs/tracing-core/0.1.18/tracing_core/metadata/struct.Level.html#associatedconstant.INFO" title="tracing::Level::INFO"><code>tracing::Level::INFO</code></a>.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.mm_log_string.html" title="anoma_shared::vm::host_env::mm_log_string fn">mm_log_string</a></td><td class="docblock-short"><p>Log a string from exposed to the wasm VM matchmaker environment. The message
will be printed at the <a href="https://docs.rs/tracing-core/0.1.18/tracing_core/metadata/struct.Level.html#associatedconstant.INFO" title="tracing::Level::INFO"><code>tracing::Level::INFO</code></a>. This function is for
development only.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.mm_remove_intents.html" title="anoma_shared::vm::host_env::mm_remove_intents fn">mm_remove_intents</a></td><td class="docblock-short"><p>Remove given intents from the matchmaker’s mempool</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.mm_send_match.html" title="anoma_shared::vm::host_env::mm_send_match fn">mm_send_match</a></td><td class="docblock-short"><p>Inject a transaction from matchmaker’s matched intents to the ledger</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.mm_update_data.html" title="anoma_shared::vm::host_env::mm_update_data fn">mm_update_data</a></td><td class="docblock-short"><p>Update matchmaker’s state data</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_add_gas.html" title="anoma_shared::vm::host_env::tx_add_gas fn">tx_add_gas</a></td><td class="docblock-short"><p>Add a gas cost incured in a transaction</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_charge_gas.html" title="anoma_shared::vm::host_env::tx_charge_gas fn">tx_charge_gas</a></td><td class="docblock-short"><p>Called from tx wasm to request to use the given gas amount</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_delete.html" title="anoma_shared::vm::host_env::tx_delete fn">tx_delete</a></td><td class="docblock-short"><p>Storage delete function exposed to the wasm VM Tx environment. The given
key/value will be written as deleted to the write log.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_get_block_hash.html" title="anoma_shared::vm::host_env::tx_get_block_hash fn">tx_get_block_hash</a></td><td class="docblock-short"><p>Getting the block hash function exposed to the wasm VM Tx environment. The
hash is that of the block to which the current transaction is being applied.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_get_block_height.html" title="anoma_shared::vm::host_env::tx_get_block_height fn">tx_get_block_height</a></td><td class="docblock-short"><p>Getting the block height function exposed to the wasm VM Tx
environment. The height is that of the block to which the current
transaction is being applied.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_get_chain_id.html" title="anoma_shared::vm::host_env::tx_get_chain_id fn">tx_get_chain_id</a></td><td class="docblock-short"><p>Getting the chain ID function exposed to the wasm VM Tx environment.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_has_key.html" title="anoma_shared::vm::host_env::tx_has_key fn">tx_has_key</a></td><td class="docblock-short"><p>Storage <code>has_key</code> function exposed to the wasm VM Tx environment. It will
try to check the write log first and if no entry found then the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_init_account.html" title="anoma_shared::vm::host_env::tx_init_account fn">tx_init_account</a></td><td class="docblock-short"><p>Initialize a new account established address.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_insert_verifier.html" title="anoma_shared::vm::host_env::tx_insert_verifier fn">tx_insert_verifier</a></td><td class="docblock-short"><p>Verifier insertion function exposed to the wasm VM Tx environment.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_iter_next.html" title="anoma_shared::vm::host_env::tx_iter_next fn">tx_iter_next</a></td><td class="docblock-short"><p>Storage prefix iterator next function exposed to the wasm VM Tx environment.
It will try to read from the write log first and if no entry found then from
the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_iter_prefix.html" title="anoma_shared::vm::host_env::tx_iter_prefix fn">tx_iter_prefix</a></td><td class="docblock-short"><p>Storage prefix iterator function exposed to the wasm VM Tx environment.
It will try to get an iterator from the storage and return the corresponding
ID of the iterator.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_log_string.html" title="anoma_shared::vm::host_env::tx_log_string fn">tx_log_string</a></td><td class="docblock-short"><p>Log a string from exposed to the wasm VM Tx environment. The message will be
printed at the <a href="https://docs.rs/tracing-core/0.1.18/tracing_core/metadata/struct.Level.html#associatedconstant.INFO" title="tracing::Level::INFO"><code>tracing::Level::INFO</code></a>. This function is for development
only.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_read.html" title="anoma_shared::vm::host_env::tx_read fn">tx_read</a></td><td class="docblock-short"><p>Storage read function exposed to the wasm VM Tx environment. It will try to
read from the write log first and if no entry found then from the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_result_buffer.html" title="anoma_shared::vm::host_env::tx_result_buffer fn">tx_result_buffer</a></td><td class="docblock-short"><p>This function is a helper to handle the first step of reading var-len
values from the host.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_update_validity_predicate.html" title="anoma_shared::vm::host_env::tx_update_validity_predicate fn">tx_update_validity_predicate</a></td><td class="docblock-short"><p>Update a validity predicate function exposed to the wasm VM Tx environment</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.tx_write.html" title="anoma_shared::vm::host_env::tx_write fn">tx_write</a></td><td class="docblock-short"><p>Storage write function exposed to the wasm VM Tx environment. The given
key/value will be written to the write log.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_charge_gas.html" title="anoma_shared::vm::host_env::vp_charge_gas fn">vp_charge_gas</a></td><td class="docblock-short"><p>Called from VP wasm to request to use the given gas amount</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_eval.html" title="anoma_shared::vm::host_env::vp_eval fn">vp_eval</a></td><td class="docblock-short"><p>Evaluate a validity predicate with the given input data.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_get_block_hash.html" title="anoma_shared::vm::host_env::vp_get_block_hash fn">vp_get_block_hash</a></td><td class="docblock-short"><p>Getting the block hash function exposed to the wasm VM VP environment. The
hash is that of the block to which the current transaction is being applied.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_get_block_height.html" title="anoma_shared::vm::host_env::vp_get_block_height fn">vp_get_block_height</a></td><td class="docblock-short"><p>Getting the block height function exposed to the wasm VM VP
environment. The height is that of the block to which the current
transaction is being applied.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_get_chain_id.html" title="anoma_shared::vm::host_env::vp_get_chain_id fn">vp_get_chain_id</a></td><td class="docblock-short"><p>Getting the chain ID function exposed to the wasm VM VP environment.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_has_key_post.html" title="anoma_shared::vm::host_env::vp_has_key_post fn">vp_has_key_post</a></td><td class="docblock-short"><p>Storage <code>has_key</code> in posterior state (after tx execution) function exposed
to the wasm VM VP environment. It will try to check the write log first and
if no entry found then the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_has_key_pre.html" title="anoma_shared::vm::host_env::vp_has_key_pre fn">vp_has_key_pre</a></td><td class="docblock-short"><p>Storage <code>has_key</code> in prior state (before tx execution) function exposed to
the wasm VM VP environment. It will try to read from the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_iter_post_next.html" title="anoma_shared::vm::host_env::vp_iter_post_next fn">vp_iter_post_next</a></td><td class="docblock-short"><p>Storage prefix iterator next for posterior state (after tx execution)
function exposed to the wasm VM VP environment. It will try to read from the
write log first and if no entry found then from the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_iter_pre_next.html" title="anoma_shared::vm::host_env::vp_iter_pre_next fn">vp_iter_pre_next</a></td><td class="docblock-short"><p>Storage prefix iterator for prior state (before tx execution) function
exposed to the wasm VM VP environment. It will try to read from the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_iter_prefix.html" title="anoma_shared::vm::host_env::vp_iter_prefix fn">vp_iter_prefix</a></td><td class="docblock-short"><p>Storage prefix iterator function exposed to the wasm VM VP environment.
It will try to get an iterator from the storage and return the corresponding
ID of the iterator.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_log_string.html" title="anoma_shared::vm::host_env::vp_log_string fn">vp_log_string</a></td><td class="docblock-short"><p>Log a string from exposed to the wasm VM VP environment. The message will be
printed at the <a href="https://docs.rs/tracing-core/0.1.18/tracing_core/metadata/struct.Level.html#associatedconstant.INFO" title="tracing::Level::INFO"><code>tracing::Level::INFO</code></a>. This function is for development
only.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_read_post.html" title="anoma_shared::vm::host_env::vp_read_post fn">vp_read_post</a></td><td class="docblock-short"><p>Storage read posterior state (after tx execution) function exposed to the
wasm VM VP environment. It will try to read from the write log first and if
no entry found then from the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_read_pre.html" title="anoma_shared::vm::host_env::vp_read_pre fn">vp_read_pre</a></td><td class="docblock-short"><p>Storage read prior state (before tx execution) function exposed to the wasm
VM VP environment. It will try to read from the storage.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_result_buffer.html" title="anoma_shared::vm::host_env::vp_result_buffer fn">vp_result_buffer</a></td><td class="docblock-short"><p>This function is a helper to handle the first step of reading var-len
values from the host.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.vp_verify_tx_signature.html" title="anoma_shared::vm::host_env::vp_verify_tx_signature fn">vp_verify_tx_signature</a></td><td class="docblock-short"><p>Verify a transaction signature.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="anoma_shared" data-search-js="../../../search-index.js"></div>
    <script src="../../../main.js"></script></body></html>